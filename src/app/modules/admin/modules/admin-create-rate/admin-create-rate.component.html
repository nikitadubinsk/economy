<app-tetriary-menu [title]="title$ | async" [navigateBack]="navigateBack"> </app-tetriary-menu>

<tui-loader [showLoader]="true" *ngIf="loadingRates$ | async; else rates" size="xxl"></tui-loader>

<ng-template #rates>
    <form class="tui-space_top-8" [formGroup]="rateForm" (submit)="onSubmit()">
        <div class="tui-row tui-row_adaptive">
            <div class="tui-col_lg-8 tui-col_md-10 tui-col_xs-12">
                <div class="tui-form__row">
                    <tui-input formControlName="name" tuiTextfieldCleaner="true">
                        Название тарифа<span class="tui-required"></span>
                    </tui-input>
                    <tui-error [error]="[] | tuiFieldError | async" formControlName="name"></tui-error>
                </div>
                <div class="tui-form__row">
                    <tui-textarea formControlName="description">Описание тарифа<span
                            class="tui-required"></span></tui-textarea>
                    <tui-error [error]="[] | tuiFieldError | async" formControlName="description"></tui-error>
                </div>
                <div class="tui-form__row tui-form__row_multi-fields">
                    <div class="tui-form__multi-field">
                        <tui-input-number formControlName="price" [postfix]="'RUB' | tuiCurrency">
                            Стоимость тарифа<span class="tui-required"></span>
                        </tui-input-number>
                        <tui-error [error]="[] | tuiFieldError | async" formControlName="price"></tui-error>
                    </div>
                    <div class="tui-form__multi-field">
                        <tui-input-number formControlName="maxUsers">
                            Максимальное количество пользователей<span class="tui-required"></span>
                        </tui-input-number>
                        <tui-error [error]="[] | tuiFieldError | async" formControlName="maxUsers"></tui-error>
                    </div>
                </div>
                <div class="tui-form__row tui-form__row_multi-fields">
                    <tui-toggle size="l" [showIcons]="true" formControlName="active">Активный</tui-toggle>
                    <p class="tui-text_body-m tui-space_rigth-3">Активный</p>
                </div>
                <div class="tui-form__buttons">
                    <button class="tui-form__button" type="submit" tuiButton
                        [disabled]="rateForm.invalid || rateForm.pristine" automation-id="save-button"
                        [showLoader]="(loading$ | async) || false">
                        {{ button$ | async }}
                    </button>
                </div>
            </div>
        </div>
    </form>
</ng-template>