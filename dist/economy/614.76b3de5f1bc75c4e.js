"use strict";(self.webpackChunkeconomy=self.webpackChunkeconomy||[]).push([[614],{3633:(Se,De,F)=>{F.d(De,{ro:()=>w,U5:()=>A});var j=F(4650),m=F(1639);"function"==typeof SuppressedError&&SuppressedError;let w=(()=>{class s{constructor(u,c){this.ngZone=u,this.elementRef=c,this.maskedElement=null,this.maskito=m.A_,this.maskitoElement=m.gI}ngOnChanges(){var u;return function ue(s,r,u,c){return new(u||(u=Promise))(function(v,x){function R($){try{I(c.next($))}catch(K){x(K)}}function te($){try{I(c.throw($))}catch(K){x(K)}}function I($){$.done?v($.value):function y(v){return v instanceof u?v:new u(function(x){x(v)})}($.value).then(R,te)}I((c=c.apply(s,r||[])).next())})}(this,void 0,void 0,function*(){null===(u=this.maskedElement)||void 0===u||u.destroy();const c=this.maskitoElement,y=yield c(this.elementRef.nativeElement);this.maskitoElement===c&&this.ngZone.runOutsideAngular(()=>{var v;this.maskedElement=new m.C8(y,null!==(v=this.maskito)&&void 0!==v?v:m.A_)})})}ngOnDestroy(){var u;null===(u=this.maskedElement)||void 0===u||u.destroy()}}return s.\u0275fac=function(u){return new(u||s)(j.Y36(j.R0b),j.Y36(j.SBq))},s.\u0275dir=j.lG2({type:s,selectors:[["","maskito",""]],inputs:{maskito:"maskito",maskitoElement:"maskitoElement"},features:[j.TTD]}),s})(),A=(()=>{class s{}return s.\u0275fac=function(u){return new(u||s)},s.\u0275mod=j.oAB({type:s}),s.\u0275inj=j.cJS({}),s})()},1639:(Se,De,F)=>{F.d(De,{A_:()=>m,C8:()=>Pe,CV:()=>ye,gI:()=>j});const j=M=>M.querySelector("input,textarea")||M,m={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};function W(M){return"string"==typeof M}function he(M,a,E,p){let h="";for(let T=a.length;T<M.length;T++){const b=M[T],S=p?.value[T]===b;if(!W(b)||b===E&&!S)return h;h+=b}return h}function ae(M,a){return Array.isArray(a)?M.length===a.length&&Array.from(M).every((E,p)=>{const h=a[p];return W(h)?E===h:E.match(h)}):a.test(M)}function me(M,a,E=null){if(ae(M.value,a))return M;const{value:p,selection:h}=Array.isArray(a)?function ie(M,a,E){let p=null,h=null;const T=Array.from(M.value).reduce((S,f,w)=>{const A=S+he(a,S,f,E),s=a[A.length];return W(s)?A+s:f.match(s)?(null===p&&w>=M.selection[0]&&(p=A.length),null===h&&w>=M.selection[1]&&(h=A.length),A+f):A},""),b=he(a,T,"",E);return{value:ae(T+b,a)?T+b:T,selection:[p??T.length,h??T.length]}}(M,a,E):function Oe({value:M,selection:a},E){const[p,h]=a;let T=p,b=h;return{value:Array.from(M).reduce((f,w,O)=>{const A=f+w;return p===O&&(T=f.length),h===O&&(b=f.length),A.match(E)?A:f},""),selection:[T,b]}}(M,a);return{selection:h,value:Array.isArray(a)?p.slice(0,a.length):p}}function z(M,a){if(!Array.isArray(a))return M;const[E,p]=M.selection,h=[],T=Array.from(M.value).reduce((b,S,f)=>{const w=a[f];return f===E&&h.push(b.length),f===p&&h.push(b.length),W(w)&&w===S?b:b+S},"");return h.length<2&&h.push(...new Array(2-h.length).fill(T.length)),{value:T,selection:[h[0],h[1]]}}class ue{constructor(a,E){this.initialElementState=a,this.maskOptions=E,this.value="",this.selection=[0,0];const{value:p,selection:h}=me(a,this.getMaskExpression(a));this.value=p,this.selection=h}addCharacters([a,E],p){const{value:h}=this,T=this.getMaskExpression({value:h.slice(0,a)+p+h.slice(E),selection:[a+p.length,a+p.length]}),b={value:h,selection:[a,E]},S=z(b,T),[f,w]=function Q({value:M,selection:a},E,p){const[h,T]=a;return{value:M,selection:"replace"===("function"==typeof p?p({value:M,selection:a}):p)?[h,h+E.length]:[h,T]}}(S,p,this.maskOptions.overwriteMode).selection,O=S.value.slice(0,f)+p,A=O.length,s=me({value:O+S.value.slice(w),selection:[A,A]},T,b);if(h.slice(0,f)===me({value:O,selection:[A,A]},T,b).value||function L(M,...a){return a.every(({value:E,selection:p})=>E===M.value&&p[0]===M.selection[0]&&p[1]===M.selection[1])}(this,s))throw new Error("Invalid mask value");this.value=s.value,this.selection=s.selection}deleteCharacters([a,E]){if(a===E||!E)return;const{value:p}=this,h=this.getMaskExpression({value:p.slice(0,a)+p.slice(E),selection:[a,a]}),T={value:p,selection:[a,E]},b=z(T,h),[S,f]=b.selection,O=me({value:b.value.slice(0,S)+b.value.slice(f),selection:[S,S]},h,T);this.value=O.value,this.selection=O.selection}getMaskExpression(a){const{mask:E}=this.maskOptions;return"function"==typeof E?E(a):E}}class X{constructor(a){this.element=a,this.listeners=[]}listen(a,E,p){const h=E;this.element.addEventListener(a,h,p),this.listeners.push(()=>this.element.removeEventListener(a,h))}destroy(){this.listeners.forEach(a=>a())}}function q(M,a,E){return M.ctrlKey===!!(1&a)&&M.altKey===!!(2&a)&&M.shiftKey===!!(4&a)&&M.metaKey===!!(8&a)&&M.keyCode===E}function ve({value:M,selection:a},E){const[p,h]=a;if(p!==h)return[p,h];const T=E?M.slice(p).indexOf("\n")+1||M.length:M.slice(0,h).lastIndexOf("\n")+1;return[E?p:T,E?T:h]}function de({value:M,selection:a},E){const[p,h]=a;return p!==h?[p,h]:(E?[p,h+1]:[p-1,h]).map(b=>Math.min(Math.max(b,0),M.length))}const Y=/\s+$/g,B=/^\s+/g,ee=/\s/;function _e({value:M,selection:a},E){const[p,h]=a;if(p!==h)return[p,h];if(E){const f=M.slice(p),[w]=f.match(B)||[""],O=f.replace(B,"").search(ee);return[p,-1!==O?p+w.length+O:M.length]}const T=M.slice(0,h),[b]=T.match(Y)||[""],S=T.replace(Y,"").split("").reverse().findIndex(f=>f.match(ee));return[-1!==S?h-b.length-S:0,h]}function Ee(M=[]){return(a,...E)=>M.reduce((p,h)=>Object.assign(Object.assign({},p),h(p,...E)),a)}function ye(M,a){const E=Object.assign(Object.assign({},m),a),p=Ee(E.preprocessors),h=Ee(E.postprocessors),T="string"==typeof M?{value:M,selection:[0,0]}:M,{elementState:b}=p({elementState:T,data:""},"validation"),S=new ue(b,E),{value:f,selection:w}=h(S,T);return"string"==typeof M?f:{value:f,selection:w}}class Pe extends class re{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const a=this.past.pop();a&&this.now&&(this.future.push(this.now),this.updateElement(a,"historyUndo"))}redo(){const a=this.future.pop();a&&this.now&&(this.past.push(this.now),this.updateElement(a,"historyRedo"))}updateHistory(a){if(!this.now)return void(this.now=a);const E=this.now.value!==a.value,p=this.now.selection.some((h,T)=>h!==a.selection[T]);!E&&!p||(E&&(this.past.push(this.now),this.future=[]),this.now=a)}updateElement(a,E){this.now=a,this.updateElementState(a,{inputType:E,data:null})}}{constructor(a,E){super(),this.element=a,this.maskitoOptions=E,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new X(this.element),this.options=Object.assign(Object.assign({},m),this.maskitoOptions),this.preprocessor=Ee(this.options.preprocessors),this.postprocessor=Ee(this.options.postprocessors),this.teardowns=this.options.plugins.map(p=>p(this.element,this.options)),this.ensureValueFitsMask(),this.updateHistory(this.elementState),this.eventListener.listen("keydown",p=>function ge(M){return q(M,1,89)||q(M,5,90)||q(M,12,90)}(p)?(p.preventDefault(),this.redo()):function se(M){return q(M,1,90)||q(M,8,90)}(p)?(p.preventDefault(),this.undo()):void 0),function ce(M){return"onbeforeinput"in M}(a)?this.eventListener.listen("beforeinput",p=>{const h=p.inputType.includes("Forward");switch(this.updateHistory(this.elementState),p.inputType){case"historyUndo":return p.preventDefault(),this.undo();case"historyRedo":return p.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:p,isForward:h,selection:de(this.elementState,h)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:p,isForward:h,selection:_e(this.elementState,h),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:p,isForward:h,selection:ve(this.elementState,h),force:!0});case"insertCompositionText":return;case"insertLineBreak":return this.handleEnter(p);default:return this.handleInsert(p,p.data||"")}}):(this.eventListener.listen("keydown",p=>this.handleKeydown(p)),this.eventListener.listen("paste",p=>{var h;return this.handleInsert(p,(null===(h=p.clipboardData)||void 0===h?void 0:h.getData("text/plain"))||"")})),this.eventListener.listen("input",({inputType:p})=>{"insertCompositionText"!==p&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:a,selectionStart:E,selectionEnd:p}=this.element;return{value:a,selection:[E||0,p||0]}}get maxLength(){const{maxLength:a}=this.element;return-1===a?1/0:a}destroy(){this.eventListener.destroy(),this.teardowns.forEach(a=>a?.())}updateElementState({value:a,selection:E},p={inputType:"insertText",data:null}){const h=this.elementState.value;this.updateValue(a),this.updateSelectionRange(E),h!==a&&this.dispatchInputEvent(p)}updateSelectionRange([a,E]){var p,h;(this.element.selectionStart!==a||this.element.selectionEnd!==E)&&(null===(h=(p=this.element).setSelectionRange)||void 0===h||h.call(p,a,E))}updateValue(a){this.element.value=a}ensureValueFitsMask(){this.updateElementState(ye(this.elementState,this.options))}dispatchInputEvent(a={inputType:"insertText",data:null}){(typeof window<"u"?window:globalThis)?.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},a),{bubbles:!0,cancelable:!1})))}handleKeydown(a){const E=a.key,p="Delete"===E;switch(E){case"Backspace":case"Delete":return this.handleDelete({event:a,isForward:p,selection:de(this.elementState,p)});case"Enter":return this.handleEnter(a)}!function le({key:M,ctrlKey:a,metaKey:E,altKey:p}){const h=a||E||p,T=/^.$/u.test(M);return!h&&"Backspace"!==M&&T}(a)||this.handleInsert(a,E)}handleDelete({event:a,selection:E,isForward:p,force:h=!1}){const T={value:this.elementState.value,selection:E},[b,S]=T.selection,{elementState:f}=this.preprocessor({elementState:T,data:""},p?"deleteForward":"deleteBackward"),w=new ue(f,this.options),[O,A]=f.selection;w.deleteCharacters([O,A]);const s=this.postprocessor(w,T);if(T.value.slice(0,b)+T.value.slice(S)!==s.value||h)return a.preventDefault(),function J(M,...a){return a.every(({value:E})=>E===M.value)}(T,f,w,s)?this.updateSelectionRange(p?[A,A]:[O,O]):(this.updateElementState(s,{inputType:"inputType"in a?a.inputType:p?"deleteContentForward":"deleteContentBackward",data:null}),void this.updateHistory(s))}handleInsert(a,E){const p=this.elementState,{elementState:h,data:T=E}=this.preprocessor({data:E,elementState:p},"insert"),b=new ue(h,this.options);try{b.addCharacters(h.selection,T)}catch{return a.preventDefault()}const[S,f]=h.selection,w=h.value.slice(0,S)+E+h.value.slice(f),O=this.postprocessor(b,p);if(O.value.length>this.maxLength)return a.preventDefault();w!==O.value&&(a.preventDefault(),this.updateElementState(O,{data:E,inputType:"inputType"in a?a.inputType:"insertText"}),this.updateHistory(O))}handleEnter(a){this.isTextArea&&this.handleInsert(a,"\n")}}},4193:(Se,De,F)=>{F.d(De,{f8:()=>tt,n9:()=>U,nQ:()=>c,tr:()=>I,vZ:()=>xe});var j=F(1639);const m=[".",",","\u0431","\u044e"],re=new Date("0001-01-01"),J=new Date("9999-12-31"),W="\u2013",he="\u2014",ae="-",Oe=[ae,W,he,"\u2212"];function X(e,t,n){const i=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(i):i}function q(e,{day:t,month:n,year:i}={}){const o=new Date(e);return t&&o.setDate(o.getDate()+t),n&&o.setMonth(o.getMonth()+n),i&&o.setFullYear(o.getFullYear()+i),o}const ge=e=>{var t,n,i;return{day:(null===(t=e.match(/d/g))||void 0===t?void 0:t.length)||0,month:(null===(n=e.match(/m/g))||void 0===n?void 0:n.length)||0,year:(null===(i=e.match(/y/g))||void 0===i?void 0:i.length)||0}};function se(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0"),hours:String(e.getHours()).padStart(2,"0"),minutes:String(e.getMinutes()).padStart(2,"0"),seconds:String(e.getSeconds()).padStart(2,"0"),milliseconds:String(e.getMilliseconds()).padStart(3,"0")}}function ce(e,t){return!(e.length<t.length)&&e.split(/\D/).every(n=>!n.match(/^0+$/))}function le(e,t,n){const i=t.replace(/\W/g,"").length;return e.replace(n,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${i}}`,"g"))||[]}function ve(e){return e.reduce((t,[n,i])=>Object.assign(Object.assign({},t),{[n]:i}),{})}function de(e,t){const n=t.replace(/[^dmy]/g,""),i=e.replace(/\D+/g,""),o={day:i.slice(n.indexOf("d"),n.lastIndexOf("d")+1),month:i.slice(n.indexOf("m"),n.lastIndexOf("m")+1),year:i.slice(n.indexOf("y"),n.lastIndexOf("y")+1)};return ve(Object.entries(o).filter(([l,d])=>Boolean(d)).sort(([l],[d])=>t.toLowerCase().indexOf(l[0])>t.toLowerCase().indexOf(d[0])?1:-1))}function Y(e,t){var n,i,o,l,d,g,_;const D=2===(null===(n=e.year)||void 0===n?void 0:n.length)?`20${e.year}`:e.year,P=new Date(Number(D??"0"),Number(null!==(i=e.month)&&void 0!==i?i:"1")-1,Number(null!==(o=e.day)&&void 0!==o?o:"1"),Number(null!==(l=t?.hours)&&void 0!==l?l:"0"),Number(null!==(d=t?.minutes)&&void 0!==d?d:"0"),Number(null!==(g=t?.seconds)&&void 0!==g?g:"0"),Number(null!==(_=t?.milliseconds)&&void 0!==_?_:"0"));return P.setFullYear(Number(D??"0")),P}const B=", ";function ee({day:e,month:t,year:n,hours:i,minutes:o,seconds:l,milliseconds:d},g,_){var D;const P=2===(null===(D=g.match(/y/g))||void 0===D?void 0:D.length)?n?.slice(-2):n;return(g+(_?B+_:"")).replace(/d+/g,e??"").replace(/m+/g,t??"").replace(/y+/g,P??"").replace(/H+/g,i??"").replace(/MSS/g,d??"").replace(/M+/g,o??"").replace(/S+/g,l??"").replace(/^\D+/g,"").replace(/\D+$/g,"")}function _e(e,t,n=0){return Number(e.padEnd(t.length,"0"))<=Number(t)?{validatedSegmentValue:e,prefixedZeroesCount:n}:e.endsWith("0")?_e(`0${e.slice(0,t.length-1)}`,t,n+1):_e(`${e.slice(0,t.length-1)}0`,t,n)}const Ee={day:31,month:12,year:9999};function ye({dateString:e,dateModeTemplate:t,offset:n,selection:[i,o]}){const l=de(e,t),d=Object.entries(l),g={};let _=0;for(const[C,N]of d){const k=ee(g,t),V=Ee[C],H=n+k.length+(k.length&&1)+ge(t)[C],Z=H>=i&&H===o;if(Z&&Number(N)>Number(V))return{validatedDateString:"",updatedSelection:[i,o]};if(Z&&Number(N)<1)return{validatedDateString:"",updatedSelection:[i,o]};const{validatedSegmentValue:be,prefixedZeroesCount:ne}=_e(N,`${V}`);_+=ne,g[C]=be}const D=ee(g,t),P=D.length-e.length;return{validatedDateString:D,updatedSelection:[i+_+P,o+_+P]}}const Pe=/[\\^$.*+?()[\]{}|]/g,M=new RegExp(Pe.source);function a(e){return e&&M.test(e)?e.replace(Pe,"\\$&"):e}function h(e){return e}function T(e){return!e||"object"==typeof e&&0===Object.keys(e).length}function b(e,t){const n=ge(t);return ve(Object.entries(e).map(([i,o])=>{const l=n[i];return[i,o.length===l&&o.match(/^0+$/)?"1".padStart(l,"0"):o]}))}function S({dateModeTemplate:e,min:t=re,max:n=J,rangeSeparator:i="",dateSegmentSeparator:o="."}){return({value:l,selection:d})=>{const g=i&&l.endsWith(i),_=le(l,e,i);let D="";for(const P of _){D+=D?i:"";const C=de(P,e);ce(P,e)?D+=ee(se(X(Y(C),t,n)),e):D+=ee(b(C,e),e)+(P.endsWith(o)?o:"")}return{selection:d,value:D+(g?i:"")}}}function f({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:n=""}){return({elementState:i,data:o})=>{const l=n?new RegExp(`${n}|-`):B,d=o.split(l),g=o.includes(B)?[d[0]]:d;if(g.every(_=>_.trim().split(/\D/).length===e.split(t).length)){const _=g.map(D=>function w(e,t,n){const i=e.split(/\D/),o=t.split(n);return i.map((d,g)=>g===o.length-1?d:d.padStart(o[g].length,"0")).join(n)}(D,e,t)).join(n);return{elementState:i,data:`${_}${o.includes(B)&&B+d[1]||""}`}}return{elementState:i,data:o}}}function O(e){const t=new RegExp(`${a(e)}$`);return e?({value:n,selection:i},o)=>{if(!n&&!o.value.endsWith(e))return{value:n,selection:i};if(!n.endsWith(e)&&!o.value.endsWith(e))return{selection:i,value:n+e};const l=o.value.replace(t,""),d=o.selection[1]>=l.length,g=function E(e,t){let n="";for(let i=0;i<e.length;i++){if(e[i]!==t[i])return n;n+=e[i]}return n}(l,n);return{selection:i,value:Array.from(e).reverse().reduce((_,D,P)=>{const C=_.length-1-P;return _[C]!==D||g[C]===D&&d?_.slice(0,C+1)+D+_.slice(C+1):_},n)}}:h}function A(e){return e?({value:t,selection:n},i)=>{if(t.startsWith(e)||!t&&!i.value.startsWith(e))return{value:t,selection:n};const[o,l]=n,d=Array.from(e).reduce((_,D,P)=>_[P]===D?_:_.slice(0,P)+D+_.slice(P),t),g=d.length-t.length;return{selection:[o+g,l+g],value:d}}:h}function s({dateModeTemplate:e,dateSegmentsSeparator:t,rangeSeparator:n=""}){return({elementState:i,data:o})=>{const{value:l,selection:d}=i;if(o===t)return{elementState:i,data:d[0]===l.length?o:""};if(Oe.includes(o))return{elementState:i,data:n};const g=o.replace(new RegExp(`[^\\d${a(t)}${n}]`,"g"),"");if(!g)return{elementState:i,data:""};const[_,D]=d;let P=D+o.length;const C=l.slice(0,_)+g+l.slice(P),N=le(C,e,n);let k="";const V=Boolean(n)&&C.includes(n);for(const H of N){const{validatedDateString:Z,updatedSelection:be}=ye({dateString:H,dateModeTemplate:e,offset:k?k.length+n.length:0,selection:[_,P]});if(H&&!Z)return{elementState:i,data:""};P=be[1],k+=V&&k?n+Z:Z}const G=k.slice(_,P);return{elementState:{selection:d,value:k.slice(0,_)+G.split(t).map(H=>"0".repeat(H.length)).join(t)+k.slice(P)},data:G}}}function r(e,t,n){return(i,o)=>{const l=()=>t(i,o);return i.addEventListener(e,l,n),()=>i.removeEventListener(e,l,n)}}function c(e){return t=>{const n=t.ownerDocument;let i=0;const o=()=>i++,l=()=>{i=Math.max(--i,0)},d=()=>{if(function p({activeElement:e}){if(!e?.shadowRoot)return e;let t=e.shadowRoot.activeElement;for(;t?.shadowRoot;)t=t.shadowRoot.activeElement;return t}(n)!==t)return;if(i)return n.addEventListener("mouseup",d,{once:!0,passive:!0});const g=t.selectionStart||0,_=t.selectionEnd||0,[D,P]=e(t.value,[g,_]);(D>g||P<_)&&t.setSelectionRange(X(g,D,P),X(_,D,P))};return n.addEventListener("selectionchange",d,{passive:!0}),t.addEventListener("mousedown",o,{passive:!0}),n.addEventListener("mouseup",l,{passive:!0}),()=>{n.removeEventListener("selectionchange",d),n.removeEventListener("mousedown",o),n.removeEventListener("mouseup",l)}}}function I({mode:e,separator:t=".",max:n,min:i}){const o=e.split("/").join(t);return Object.assign(Object.assign({},j.A_),{mask:Array.from(o).map(l=>l===t?l:/\d/),overwriteMode:"replace",preprocessors:[({elementState:e},t)=>{const{value:n,selection:i}=e;if(!n||function te(e,[t,n]){return n===e.length}(n,i))return{elementState:e};const[o,l]=i,d=n.slice(o,l).replace(/\d/g,"0"),g=n.slice(0,o)+d+n.slice(l);return"validation"===t||"insert"===t&&o===l?{elementState:{selection:i,value:g}}:{elementState:{selection:"deleteBackward"===t||"insert"===t?[o,o]:[l,l],value:g}}},f({dateModeTemplate:o,dateSegmentsSeparator:t}),s({dateModeTemplate:o,dateSegmentsSeparator:t})],postprocessors:[S({min:i,max:n,dateModeTemplate:o,dateSegmentSeparator:t})]})}function $({dateModeTemplate:e,rangeSeparator:t,minLength:n,maxLength:i,max:o=J}){return T(n)&&T(i)?h:({value:l,selection:d})=>{const g=le(l,e,t);if(2!==g.length||g.some(V=>!ce(V,e)))return{value:l,selection:d};const[_,D]=g.map(V=>Y(de(V,e))),P=q(_,Object.assign(Object.assign({},n),{day:n?.day&&n.day-1})),C=T(i)?o:q(_,Object.assign(Object.assign({},i),{day:i?.day&&i.day-1})),N=X(D,P,o);return{selection:d,value:g[0]+t+ee(se(N>C?C:N),e)}}}function K({dateModeTemplate:e,rangeSeparator:t}){return({value:n,selection:i})=>{const o=le(n,e,t),l=2===o.length&&o.every(N=>ce(N,e)),[d,g]=i;if(!((d>=n.length||0===d&&g>=n.length)&&l))return{value:n,selection:i};const[P,C]=o.map(N=>Y(de(N,e)));return{selection:i,value:P>C?o.reverse().join(t):n}}}function U({mode:e,separator:t=".",min:n,max:i,minLength:o,maxLength:l,dateSeparator:d=t,rangeSeparator:g=`\xa0${W}\xa0`}){const _=e.split("/").join(d),D=Array.from(_).map(P=>P===d?P:/\d/);return Object.assign(Object.assign({},j.A_),{mask:[...D,...Array.from(g),...D],overwriteMode:"replace",preprocessors:[({elementState:e},t)=>{const{value:n,selection:i}=e;if(!n||function te(e,[t,n]){return n===e.length}(n,i))return{elementState:e};const[o,l]=i,d=n.slice(o,l).replace(/\d/g,"0"),g=n.slice(0,o)+d+n.slice(l);return"validation"===t||"insert"===t&&o===l?{elementState:{selection:i,value:g}}:{elementState:{selection:"deleteBackward"===t||"insert"===t?[o,o]:[l,l],value:g}}},f({dateModeTemplate:_,rangeSeparator:g,dateSegmentsSeparator:d}),s({dateModeTemplate:_,rangeSeparator:g,dateSegmentsSeparator:d})],postprocessors:[S({min:n,max:i,dateModeTemplate:_,rangeSeparator:g,dateSegmentSeparator:d}),$({dateModeTemplate:_,minLength:o,maxLength:l,max:i,rangeSeparator:g}),K({dateModeTemplate:_,rangeSeparator:g})]})}function Ne({decimalSeparator:e,isNegativeAllowed:t,precision:n,thousandSeparator:i,prefix:o,postfix:l,decimalPseudoSeparators:d=[],pseudoMinuses:g=[]}){const _=ke(o),P=t?`[\u2212${g.map(V=>`\\${V}`).join("")}]?`:"",C=i?`[\\d${a(i).replace(/\s/g,"\\s")}]*`:"[\\d]*",N=n>0?`([${a(e)}${d.map(a).join("")}]\\d{0,${Number.isFinite(n)?n:""}})?`:"",k=ke(l);return new RegExp(`^${_}${P}${C}${N}${k}$`)}function ke(e){return e?`${e.split("").map(t=>`${a(t)}?`).join("")}`:""}function xe(e,t="."){const n=!!e.match(new RegExp(`^\\D*[\u2212\\${ae}${W}${he}]`)),i=e.replace(new RegExp(`[^\\d${a(t)}]`,"g"),"").replace(t,".");return i?Number((n?ae:"")+i):NaN}function He({decimalSeparator:e,precision:t,decimalZeroPadding:n,postfix:i}){if(t<=0||!n)return h;const o=new RegExp(`${a(i)}$`);return({value:l,selection:d})=>{if(Number.isNaN(xe(l,e)))return{value:l,selection:d};const[g,_=""]=l.replace(o,"").split(e);return{value:g+e+_.padEnd(t,"0")+i,selection:d}}}function We({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n}){let i=!0;const o=Ne({decimalSeparator:e,decimalPseudoSeparators:t,pseudoMinuses:n,prefix:"",postfix:"",thousandSeparator:"",precision:1/0,isNegativeAllowed:!0});return({elementState:l,data:d})=>i?(i=!1,{elementState:(0,j.CV)(l,{mask:o}),data:d}):{elementState:l,data:d}}function Ge({min:e,max:t,decimalSeparator:n}){return({value:i,selection:o})=>{const l=xe(i,n),d=l>0?Math.min(l,t):Math.max(l,e);if(!Number.isNaN(l)&&d!==l){const g=`${d}`.replace(".",n).replace(ae,"\u2212");return{value:g,selection:[g.length,g.length]}}return{value:i,selection:o}}}function Ze({decimalSeparator:e,thousandSeparator:t,decimalZeroPadding:n}){return({elementState:i,data:o},l)=>{const{value:d,selection:g}=i,[_,D]=g,P=d.slice(_,D),C=n?[e,t]:[t],N=n&&_>d.indexOf(e)&&Boolean(P.match(/^0+$/gi));return"deleteBackward"!==l&&"deleteForward"!==l||!C.includes(P)&&!N?{elementState:i,data:o}:{elementState:{value:d,selection:"deleteForward"===l?[D,D]:[_,_]},data:o}}}function ze({decimalSeparator:e,precision:t}){const n=new RegExp(`^\\D*${a(e)}`);return({elementState:i,data:o})=>{const{value:l,selection:d}=i,[g]=d;return t<=0||l.includes(e)||!o.match(n)?{elementState:i,data:o}:{elementState:i,data:l.slice(0,g).match(/\d+/)?o:`0${o}`}}}function Re(e,t){const n=new RegExp(`[${t.join("")}]`,"gi");return({elementState:i,data:o})=>{const{value:l,selection:d}=i;return{elementState:{selection:d,value:l.replace(n,e)},data:o.replace(n,e)}}}function Ye(e){return({elementState:t,data:n})=>{const{value:i,selection:o}=t,[l,d]=o;return{elementState:t,data:!i.includes(e)||i.slice(l,d+1).includes(e)?n:n.replace(new RegExp(a(e),"gi"),"")}}}function Je({thousandSeparator:e,decimalSeparator:t,prefix:n,postfix:i}){if(!e)return h;const o=new RegExp(`^${a(n)}\u2212?`),l=new RegExp(`${a(i)}$`);return({value:g,selection:_})=>{const[D,P=""]=g.split(t),[C,N]=_;let[k,V]=_;const G=D.replace(o,"").replace(l,""),[H=""]=D.match(o)||[],[Z=""]=D.match(l)||[],be=Array.from(G).reduceRight((ne,we,Me)=>{const Ae=!(!Me&&we===e)&&ne.length&&(ne.length+1)%4==0;return Ae&&(we===e||((...g)=>g.every(_=>/\s/.test(_)))(we,e))?e+ne:we!==e||Ae?Ae?(Me<=C&&k++,Me<=N&&V++,we+e+ne):we+ne:(Me&&Me<=C&&k--,Me&&Me<=N&&V--,ne)},"");return{value:H+be+Z+(g.includes(t)?t:"")+P,selection:[k,V]}}}function Qe(e,t){if(e>0)return h;const n=new RegExp(`${a(t)}.*$`,"g");return({elementState:i,data:o})=>{const{value:l,selection:d}=i,[g,_]=d,D=l.replace(n,"");return{elementState:{selection:[Math.min(g,D.length),Math.min(_,D.length)],value:D},data:o.replace(n,"")}}}new RegExp(`[${[":","."].map(a).join("")}]$`);const Fe=[0,0];function Xe(e,t){const n=function Ke(e,t){const n=o=>{const l=a(t);return o.replace(new RegExp(`^(\\D+)?[0${l}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${l}]+(?=[1-9])`),"$1")},i=(o,l)=>{const d=o.slice(0,l),g=o.slice(l).startsWith("0");return d.length-n(d).length+(g?1:0)};return({value:o,selection:l})=>{const[d,g]=l,_=o.includes(e),[D,P=""]=o.split(e),C=n(D);if(D===C)return{value:o,selection:l};const N=d-i(o,d),k=g-i(o,g);return{value:C+(_?e:"")+P,selection:[Math.max(N,0),Math.max(k,0)]}}}(e,t);return r("blur",i=>{const o=n({value:i.value,selection:Fe},{value:"",selection:Fe}).value;i.value!==o&&(i.value=o,i.dispatchEvent(new Event("input")))},{capture:!0})}function qe({min:e,max:t,decimalSeparator:n}){return r("blur",(i,o)=>{const l=xe(i.value,n),d=X(l,e,t);!Number.isNaN(l)&&l!==d&&(i.value=(0,j.CV)(function Be(e){const t=String(e),[n,i]=t.split("e-");let o=t;if(i){const[,l]=n.split("."),d=Number(i)+(l?.length||0);o=e.toFixed(d)}return o}(d),o),i.dispatchEvent(new Event("input")))},{capture:!0})}function et(e){return r("blur",t=>{const n=t.value.replace(new RegExp(`^(\\D+)?${a(e)}`),`$10${e}`);n!==t.value&&(t.value=n,t.dispatchEvent(new Event("input")))},{capture:!0})}function tt({max:e=Number.MAX_SAFE_INTEGER,min:t=Number.MIN_SAFE_INTEGER,precision:n=0,thousandSeparator:i="\xa0",decimalSeparator:o=".",decimalPseudoSeparators:l,decimalZeroPadding:d=!1,prefix:g="",postfix:_=""}={}){const D=[ae,W,he].filter(C=>C!==i&&C!==o),P=function Ue({decimalSeparator:e,thousandSeparator:t,decimalPseudoSeparators:n=m}){return n.filter(i=>i!==t&&i!==e)}({decimalSeparator:o,thousandSeparator:i,decimalPseudoSeparators:l});return Object.assign(Object.assign({},j.A_),{mask:Ne({decimalSeparator:o,precision:n,thousandSeparator:i,prefix:g,postfix:_,isNegativeAllowed:t<0}),preprocessors:[We({decimalSeparator:o,decimalPseudoSeparators:P,pseudoMinuses:D}),Re("\u2212",D),Re(o,P),ze({decimalSeparator:o,precision:n}),Ze({decimalSeparator:o,decimalZeroPadding:d,thousandSeparator:i}),Qe(n,o),Ye(o)],postprocessors:[Ge({decimalSeparator:o,min:t,max:e}),A(g),O(_),Je({decimalSeparator:o,thousandSeparator:i,prefix:g,postfix:_}),He({decimalSeparator:o,decimalZeroPadding:d,precision:n,postfix:_})],plugins:[Xe(o,i),et(o),qe({min:t,max:e,decimalSeparator:o})],overwriteMode:d?({value:C,selection:[N]})=>N<=C.indexOf(o)?"shift":"replace":"shift"})}},4614:(Se,De,F)=>{F.d(De,{_H:()=>T,g5:()=>h,qS:()=>p});var j=F(3842),m=F(4650),re=F(4006),J=F(4193),L=F(5753),Q=F(1054),W=F(8535),he=F(1225),ae=F(7414),ie=F(8923),Oe=F(117),me=F(9367),z=F(8487),ue=F(9654),X=F(1947),q=F(6966),ge=F(9740),se=F(6128),ce=F(3633),le=F(6895);function ve(b,S){if(1&b&&(m.ynx(0),m._uU(1),m.BQk()),2&b){const f=S.polymorpheusOutlet;m.xp6(1),m.hij(" ",f," ")}}function de(b,S){if(1&b&&(m.TgZ(0,"div",6),m.YNc(1,ve,2,1,"ng-container",7),m.qZA()),2&b){m.oxw();const f=m.MAs(9);m.xp6(1),m.Q6J("polymorpheusOutlet",f)}}function Y(b,S){if(1&b){const f=m.EpF();m.TgZ(0,"section",8)(1,"button",9),m.NdJ("click.prevent",function(){m.CHM(f);const O=m.oxw();return m.KtG(O.onArrow(O.step))})("mousedown.prevent",function(){m.CHM(f);const O=m.oxw();return m.KtG(null==O.nativeFocusableElement?null:O.nativeFocusableElement.focus())}),m._uU(2," + "),m.qZA(),m.TgZ(3,"button",9),m.NdJ("click.prevent",function(){m.CHM(f);const O=m.oxw();return m.KtG(O.onArrow(-O.step))})("mousedown.prevent",function(){m.CHM(f);const O=m.oxw();return m.KtG(null==O.nativeFocusableElement?null:O.nativeFocusableElement.focus())}),m._uU(4," - "),m.qZA()()}if(2&b){const f=m.oxw(),w=m.MAs(1);m.xp6(1),m.Q6J("appearance",w.appearance)("disabled",!f.canIncrement)("focusable",!1)("icon",f.options.icons.up),m.xp6(2),m.Q6J("appearance",w.appearance)("disabled",!f.canDecrement)("focusable",!1)("icon",f.options.icons.down)}}function B(b,S){1&b&&m.GkF(0)}function ee(b,S){1&b&&m.Hsn(0,2)}const _e=["*",[["input"]],[["tuiContent"]]],Ee=["*","input","tuiContent"],Pe=(0,L.JN)({icons:{up:"tuiIconPlus",down:"tuiIconMinus"},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,step:0,decimal:"not-zero",precision:2}),E=new m.OlP("");let p=(()=>{class b extends Q.F9{constructor(f,w,O,A,s,r,u,c){super(f,w,O),this.options=A,this.numberFormat=s,this.isIOS=r,this.textfieldSize=u,this.controller=c,this.unfinishedValue="",this.min=this.options.min,this.max=this.options.max,this.decimal=this.options.decimal,this.precision=this.options.precision,this.step=this.options.step,this.prefix="",this.postfix="",this.polymorpheusValueContent=W.Mm}get size(){return this.textfieldSize.size}get computedMin(){return this.computeMin(this.min,this.max)}get computedMax(){return this.computeMax(this.min,this.max)}get nativeFocusableElement(){return!this.textfield||this.computedDisabled?null:this.textfield.nativeFocusableElement}get focused(){var f;return!(null===(f=this.textfield)||void 0===f||!f.focused)}get isNegativeAllowed(){return this.computedMin<0}get inputMode(){return this.isIOS&&this.isNegativeAllowed?"text":"never"===this.decimal?"numeric":"decimal"}get calculatedMaxLength(){return 18+("never"!==this.decimal&&this.nativeValue.includes(this.numberFormat.decimalSeparator)?Math.min(this.precision+1,20):0)+this.numberFormat.thousandSeparator.repeat(5).length}get formattedValue(){return null!==this.value?this.getFormattedValue(this.value||0):""}get computedValue(){return this.focused?this.nativeValue:this.formattedValue}get canDecrement(){return this.interactive&&(this.value||0)>this.computedMin}get canIncrement(){return this.interactive&&(this.value||0)<this.computedMax}get computedPrefix(){return this.prefix||this.controller.prefix}get computedPostfix(){const f=this.postfix||this.controller.postfix;return f&&` ${f}`}get mask(){return this.calculateMask(this.precision,this.decimal,this.numberFormat.decimalSeparator,this.numberFormat.thousandSeparator,this.computedMin,this.computedMax,this.computedPrefix,this.computedPostfix)}onArrow(f){!f||(this.value=(0,he.Ki)((this.value||0)+f,this.computedMin,this.computedMax),this.nativeValue=this.formattedValue)}onValueChange(f){const w=(0,J.vZ)(f,this.numberFormat.decimalSeparator);this.unfinishedValue=null,Number.isNaN(w)?this.value=null:this.isNativeValueNotFinished?this.unfinishedValue=f:w<this.computedMin||w>this.computedMax||(this.value=w)}onFocused(f){this.updateFocused(f);const w=this.unfinishedValue?(0,J.vZ)(this.unfinishedValue,this.numberFormat.decimalSeparator):this.nativeNumberValue;if(this.unfinishedValue=null,Number.isNaN(w))return this.nativeValue=f?this.computedPrefix+this.computedPostfix:"",void(this.value=null);f||(this.value=w,this.nativeValue=this.formattedValue)}getFormattedValue(f){const O=Math.abs(f)%1>0;let A="always"===this.decimal||O&&"never"!==this.decimal?this.precision:0;const s=O?(0,ue.Lf)(f,this.precision):"";return this.focused&&"always"!==this.decimal&&(A=s.length),this.computedPrefix+(0,ue.lx)(f,Object.assign(Object.assign({},this.numberFormat),{decimalLimit:A})).replace(W.fv,W.em)+this.computedPostfix}get isNativeValueNotFinished(){const f=this.nativeNumberValue;return f<0?f>this.computedMax:f<this.computedMin}get nativeValue(){var f;return(null===(f=this.nativeFocusableElement)||void 0===f?void 0:f.value)||""}set nativeValue(f){!this.textfield||!this.nativeFocusableElement||(this.textfield.value=f,this.nativeFocusableElement.value=f)}writeValue(f){super.writeValue(f),this.nativeValue=this.formattedValue}get nativeNumberValue(){return(0,J.vZ)(this.nativeValue,this.numberFormat.decimalSeparator)}computeMin(f,w){var O,A,s,r,u,c;return Math.min(null!==(s=null!==(A=null===(O=this.valueTransformer)||void 0===O?void 0:O.fromControlValue(f))&&void 0!==A?A:f)&&void 0!==s?s:this.options.min,null!==(c=null!==(u=null===(r=this.valueTransformer)||void 0===r?void 0:r.fromControlValue(w))&&void 0!==u?u:w)&&void 0!==c?c:this.options.max)}computeMax(f,w){var O,A,s,r,u,c;return Math.max(null!==(s=null!==(A=null===(O=this.valueTransformer)||void 0===O?void 0:O.fromControlValue(f))&&void 0!==A?A:f)&&void 0!==s?s:this.options.min,null!==(c=null!==(u=null===(r=this.valueTransformer)||void 0===r?void 0:r.fromControlValue(w))&&void 0!==u?u:w)&&void 0!==c?c:this.options.max)}calculateMask(f,w,O,A,s,r,u,c){const y=(0,J.f8)({decimalSeparator:O,thousandSeparator:A,min:s,max:r,prefix:u,postfix:c,precision:"never"===w?0:f,decimalZeroPadding:"always"===w}),{plugins:v}=y,x=(0,j._T)(y,["plugins"]);return Object.assign(Object.assign({},x),{plugins:[...v,(0,J.nQ)(R=>[u.length,R.length-c.length])]})}}return b.\u0275fac=function(f){return new(f||b)(m.Y36(re.a5,10),m.Y36(m.sBO),m.Y36(E,8),m.Y36(Pe),m.Y36(X.HO),m.Y36(ae.FA),m.Y36(z.kI),m.Y36(z.Cs))},b.\u0275cmp=m.Xpm({type:b,selectors:[["tui-input-number"]],contentQueries:function(f,w,O){if(1&f&&m.Suo(O,ge.Li,5),2&f){let A;m.iGM(A=m.CRH())&&(w.polymorpheusValueContent=A)}},viewQuery:function(f,w){if(1&f&&m.Gf(Oe.yc,5),2&f){let O;m.iGM(O=m.CRH())&&(w.textfield=O.first)}},hostVars:1,hostBindings:function(f,w){1&f&&m.NdJ("keydown.arrowDown",function(){return w.onArrow(-w.step)})("keydown.arrowUp",function(){return w.onArrow(w.step)}),2&f&&m.uIk("data-size",w.size)},inputs:{min:"min",max:"max",decimal:"decimal",precision:"precision",step:"step",prefix:"prefix",postfix:"postfix"},features:[m._Bn([(0,ae.FT)(b),(0,Q.wB)(b),z.Y0]),m.qOj],ngContentSelectors:Ee,decls:10,vars:14,consts:[["tuiTextfieldPostfix","","tuiTextfieldPrefix","","tuiValueAccessor","",1,"t-textfield",3,"disabled","focusable","invalid","maskito","pseudoActive","pseudoFocus","pseudoHover","readOnly","value","focusedChange","valueChange"],["textfield",""],["ngProjectAs","tuiContent","class","t-value-content",5,["tuiContent"],4,"ngIf"],["class","t-buttons",4,"ngIf"],[4,"ngIf"],["valueContent",""],["ngProjectAs","tuiContent",5,["tuiContent"],1,"t-value-content"],[4,"polymorpheusOutlet"],[1,"t-buttons"],["size","s","tuiIconButton","","type","button",1,"t-button",3,"appearance","disabled","focusable","icon","click.prevent","mousedown.prevent"]],template:function(f,w){1&f&&(m.F$t(_e),m.TgZ(0,"tui-primitive-textfield",0,1),m.NdJ("focusedChange",function(A){return w.onFocused(A)})("valueChange",function(A){return w.onValueChange(A)}),m.Hsn(2),m.Hsn(3,1,["ngProjectAs","input",5,["input"]]),m.YNc(4,de,2,1,"div",2),m.qZA(),m.YNc(5,Y,5,8,"section",3),m.YNc(6,B,1,0,"ng-container",4),m.ALo(7,"async"),m.YNc(8,ee,1,0,"ng-template",null,5,m.W1O)),2&f&&(m.Q6J("disabled",w.computedDisabled)("focusable",w.focusable)("invalid",w.computedInvalid)("maskito",w.mask)("pseudoActive",w.pseudoActive)("pseudoFocus",w.computedFocused)("pseudoHover",w.pseudoHover)("readOnly",w.readOnly)("value",w.computedValue),m.xp6(4),m.Q6J("ngIf",w.polymorpheusValueContent.length),m.xp6(1),m.Q6J("ngIf",w.step),m.xp6(1),m.Q6J("ngIf",m.lcZ(7,12,w.polymorpheusValueContent.changes)))},dependencies:[Oe.yc,me.v0,Oe.B1,z.Tq,z.A7,se.n,ce.ro,le.O5,ge.Li,le.Ov],styles:["[_nghost-%COMP%]{display:flex;border-radius:var(--tui-radius-m);text-align:left}.t-textfield[_ngcontent-%COMP%]{flex:1;max-width:100%;border-radius:inherit;text-align:inherit}.t-textfield[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.t-value-content[_ngcontent-%COMP%]{width:100%}.t-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-left:.125rem;border-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:first-child{margin:0 0 0 .125rem;border-top-right-radius:inherit;border-bottom-right-radius:inherit}[data-size=s][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]:last-child{border-radius:0}[data-size=m][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{width:calc(var(--tui-height-m) * .75)}[data-size=l][_ngcontent-%COMP%] + .t-buttons[_ngcontent-%COMP%]   .t-button[_ngcontent-%COMP%]{width:calc(var(--tui-height-l) * .75)}.t-button[_ngcontent-%COMP%]{display:flex;flex:1;height:auto;border-radius:0}.t-button[_ngcontent-%COMP%]:first-child{margin-bottom:.125rem;border-top-right-radius:inherit}.t-button[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:inherit}"],changeDetection:0}),(0,j.gn)([ie.UM],b.prototype,"computeMin",null),(0,j.gn)([ie.UM],b.prototype,"computeMax",null),(0,j.gn)([ie.UM],b.prototype,"calculateMask",null),b})(),h=(()=>{class b extends q.D1{get value(){return this.host.computedValue}onValueChange(f){this.host.onValueChange(f)}ngDoCheck(){!this.host.nativeFocusableElement||(this.host.nativeFocusableElement.inputMode=this.host.inputMode,this.host.nativeFocusableElement.maxLength=this.host.nativeFocusableElement.maxLength>0?this.host.nativeFocusableElement.maxLength:this.host.calculatedMaxLength)}}return b.\u0275fac=function(){let S;return function(w){return(S||(S=m.n5z(b)))(w||b)}}(),b.\u0275dir=m.lG2({type:b,selectors:[["tui-input-number"]],features:[m._Bn([(0,X.cp)(b)]),m.qOj]}),b})(),T=(()=>{class b{}return b.\u0275fac=function(f){return new(f||b)},b.\u0275mod=m.oAB({type:b}),b.\u0275inj=m.cJS({imports:[[le.ez,ce.U5,Oe.KW,z.cn,se.S,ge.wq,me.fN]]}),b})()},6128:(Se,De,F)=>{F.d(De,{S:()=>J,n:()=>re});var j=F(4650),m=F(2727);let re=(()=>{class L{}return L.\u0275fac=function(W){return new(W||L)},L.\u0275dir=j.lG2({type:L,selectors:[["","tuiValueAccessor",""]],features:[j._Bn([m.E2])]}),L})(),J=(()=>{class L{}return L.\u0275fac=function(W){return new(W||L)},L.\u0275mod=j.oAB({type:L}),L.\u0275inj=j.cJS({}),L})()}}]);