"use strict";(self.webpackChunkeconomy=self.webpackChunkeconomy||[]).push([[30],{8030:(E,g,t)=>{t.r(g),t.d(g,{AdminModule:()=>c});var n=t(6895),o=t(6180),d=t(3327),r=t(5359),v=t(5753),l=t(2198),A=t(1104),s=t(4650),m=t(4006),f=t(5955);const y=function(e){return{name:e,position:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}};let $=(()=>{class e{constructor(i,u){this.store$=i,this.fb=u,this.name$=this.store$.pipe((0,r.Ys)(A.u2),(0,l.h)(v.Pc)),this.items=[{name:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",route:"/admin/statistics"},{name:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u044b",route:"/admin/managers"},{name:"\u0422\u0430\u0440\u0438\u0444\u044b",route:"/admin/rates"}]}logout(){this.store$.dispatch((0,A.kS)())}}return e.\u0275fac=function(i){return new(i||e)(s.Y36(r.yh),s.Y36(m.QS))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-admin-container"]],decls:5,vars:6,consts:[["title","\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",3,"items","userInfo","logout"],[1,"page-content","tui-container_adaptive"],[1,"selections__content"]],template:function(i,u){1&i&&(s.TgZ(0,"app-navigation",0),s.NdJ("logout",function(){return u.logout()}),s.ALo(1,"async"),s.qZA(),s.TgZ(2,"div",1)(3,"div",2),s._UZ(4,"router-outlet"),s.qZA()()),2&i&&s.Q6J("items",u.items)("userInfo",s.VKq(4,y,s.lcZ(1,2,u.name$)||""))},dependencies:[d.lC,f.J,n.Ov],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:var(--tui-base-01)}@media screen and (min-width: 1100px){.page-content[_ngcontent-%COMP%]{width:1090px}}@media screen and (min-width: 1300px){.page-content[_ngcontent-%COMP%]{width:1200px}}@media screen and (min-width: 1560px){.page-content[_ngcontent-%COMP%]{width:1400px}}@media screen and (min-width: 1900px){.page-content[_ngcontent-%COMP%]{width:1700px}}"],changeDetection:0}),e})();var C=t(2986),U=t(4850),M=t(6718),P=t(9844);const a=[{path:"",component:$,children:[{path:"",pathMatch:"full",redirectTo:"statistics"},{path:"statistics",loadChildren:()=>Promise.all([t.e(798),t.e(333),t.e(416),t.e(191)]).then(t.bind(t,5191)).then(e=>e.AdminStatisticsModule)},{path:"rates",loadChildren:()=>Promise.all([t.e(798),t.e(687)]).then(t.bind(t,3687)).then(e=>e.AdminRatesModule)},{path:"rates/create",loadChildren:()=>Promise.all([t.e(804),t.e(798),t.e(333),t.e(614),t.e(554)]).then(t.bind(t,8176)).then(e=>e.AdminCreateRateModule)},{path:"rates/:id",loadChildren:()=>Promise.all([t.e(804),t.e(798),t.e(333),t.e(614),t.e(554)]).then(t.bind(t,8176)).then(e=>e.AdminCreateRateModule),resolve:{rates:(()=>{class e{constructor(i){this.store$=i}resolve(i){const{id:u}=i.params;return this.store$.pipe((0,r.Ys)(M.rW),(0,C.q)(1),(0,U.U)(S=>((!S||!u)&&this.store$.dispatch((0,P.fI)({id:u})),!0)))}}return e.\u0275fac=function(i){return new(i||e)(s.LFG(r.yh))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]}];let h=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[d.Bz.forChild(a),d.Bz]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[n.ez,h,o.A]}),e})()},9844:(E,g,t)=>{t.d(g,{$e:()=>y,ML:()=>C,Mi:()=>r,Zm:()=>v,eF:()=>d,fI:()=>s,h_:()=>m,tc:()=>$,wU:()=>l,xM:()=>f,zD:()=>A});var n=t(5359),o=t(1440);const d=(0,n.PH)(`[${o.tU}] LOAD_STATISTICS`),r=(0,n.PH)(`[${o.tU}] LOAD_RATES`),v=(0,n.PH)(`[${o.tU}] LOADED_RATES`,(0,n.Ky)()),l=(0,n.PH)(`[${o.tU}] CHOOS_A_RATE`,(0,n.Ky)()),A=(0,n.PH)(`[${o.tU}] ACTIVE_RATE`,(0,n.Ky)()),s=(0,n.PH)(`[${o.tU}] LOAD_RATE_BY_ID`,(0,n.Ky)()),m=(0,n.PH)(`[${o.tU}] LOADED_RATE_BY_ID`,(0,n.Ky)()),f=(0,n.PH)(`[${o.tU}] CLEAR_RATE`),y=(0,n.PH)(`[${o.tU}] CREATE_RATE`,(0,n.Ky)()),$=(0,n.PH)(`[${o.tU}] UPDATE_RATE`,(0,n.Ky)()),C=(0,n.PH)(`[${o.tU}] TURN_OFF_LOADING`)},1440:(E,g,t)=>{t.d(g,{Ll:()=>A,V_:()=>s,e9:()=>v,rW:()=>l,tU:()=>o});var n=t(5359);const o="admin",d=(0,n.ZF)(o),v=((0,n.P1)(d,m=>m.statistics),(0,n.P1)(d,m=>m.rates)),l=(0,n.P1)(d,m=>m.rate),A=(0,n.P1)(d,m=>m.loadingRates),s=(0,n.P1)(d,m=>m.loading)},6718:(E,g,t)=>{t.d(g,{I1:()=>C,tU:()=>R.tU,tp:()=>P,xM:()=>n.xM,$e:()=>n.$e,V_:()=>R.V_,Ll:()=>R.Ll,rW:()=>R.rW,e9:()=>R.e9,tc:()=>n.tc});var n=t(9844),o=t(3781),d=t(7545),r=t(4850),v=t(7221),l=t(1104),A=t(4650),s=t(5359),m=t(1086),f=t(8583),y=t(9671);let $=(()=>{class a extends y.s{constructor(){super(...arguments),this.endpoints={statistics:"/admin/statistics",rates:"/admin/rates",rateById:"/admin/rate/:id",rate:"/admin/rate",closeRate:"/admin/rate/:id/hide"}}getStatistics(){return(0,m.of)(void 0).pipe((0,f.g)(1e3))}getRates(){return this.get(this.endpoints.rates).pipe((0,r.U)(c=>c.data))}getRatById(c){return this.get(this.endpoints.rateById,{id:c}).pipe((0,r.U)(e=>e.data))}addRate(c){return this.post(this.endpoints.rate,c).pipe((0,r.U)(e=>e.data))}editRate(c,e){return this.put(this.endpoints.rateById,c,{id:e}).pipe((0,r.U)(p=>p.data))}closeRate(c,e){return this.post(this.endpoints.closeRate,{active:c},{id:e}).pipe((0,r.U)(p=>p.data))}}return a.\u0275fac=function(){let h;return function(e){return(h||(h=A.n5z(a)))(e||a)}}(),a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),C=(()=>{class a{constructor(c,e,p){this.store$=c,this.actions$=e,this.apiAdminService=p,this.loadStatistics$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(n.eF),(0,d.w)(()=>this.apiAdminService.getStatistics().pipe((0,r.U)(()=>(0,l.rO)({})))))),this.loadRates$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(n.Mi),(0,d.w)(()=>this.apiAdminService.getRates().pipe((0,r.U)(i=>(0,n.Zm)({rates:i})),(0,v.K)(()=>[(0,n.Zm)({rates:[]})]))))),this.loadRateById$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(n.fI),(0,d.w)(({id:i})=>this.apiAdminService.getRatById(i).pipe((0,r.U)(u=>(0,n.h_)({rate:u})),(0,v.K)(()=>[(0,l.UW)({message:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 5 \u043c\u0438\u043d\u0443\u0442 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435",options:{label:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u0430\u0440\u0438\u0444"}}),(0,l.T8)({payload:{path:["/admin/rates"]}})]))))),this.activeRate$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(n.zD),(0,d.w)(({active:i,id:u})=>this.apiAdminService.closeRate(i,u).pipe((0,d.w)(()=>[(0,n.Mi)(),(0,l.rO)({message:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438 \u0441\u0442\u0430\u0442\u0443\u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0442\u0430\u0440\u0438\u0444\u0430"})]),(0,v.K)(()=>[(0,l.UW)({message:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 5 \u043c\u0438\u043d\u0443\u0442 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435",options:{label:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0430\u0440\u0438\u0444\u0430"}})]))))),this.updateRate$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(n.tc),(0,d.w)(({id:i,rate:u})=>this.apiAdminService.editRate(u,i).pipe((0,d.w)(()=>[(0,n.ML)(),(0,l.T8)({payload:{path:["/admin/rates"]}}),(0,l.rO)({message:`\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0438\u0438 \u0442\u0430\u0440\u0438\u0444 ${u.name}`})]),(0,v.K)(()=>[(0,l.UW)({message:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 5 \u043c\u0438\u043d\u0443\u0442 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435",options:{label:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u0430\u0440\u0438\u0444"}})]))))),this.createRate$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(n.$e),(0,d.w)(({rate:i})=>this.apiAdminService.addRate(i).pipe((0,d.w)(()=>[(0,n.ML)(),(0,l.T8)({payload:{path:["/admin/rates"]}}),(0,l.rO)({message:`\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0442\u0430\u0440\u0438\u0444 ${i.name}`})]),(0,v.K)(()=>[(0,l.UW)({message:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 5 \u043c\u0438\u043d\u0443\u0442 \u0438\u043b\u0438 \u043f\u043e\u0437\u0436\u0435",options:{label:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0430\u0440\u0438\u0444"}})])))))}}return a.\u0275fac=function(c){return new(c||a)(A.LFG(s.yh),A.LFG(o.eX),A.LFG($))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const M=(0,s.Lq)({statistics:null,rates:[],rate:null,loadingRates:!1,loading:!1},(0,s.on)(n.eF,a=>({...a,loading:!0})),(0,s.on)(n.wU,(a,{rate:h})=>({...a,rate:h})),(0,s.on)(n.xM,a=>({...a,rate:null})),(0,s.on)(n.Mi,a=>({...a,loadingRates:!0})),(0,s.on)(n.Zm,(a,{rates:h})=>({...a,rates:h,loadingRates:!1})),(0,s.on)(n.fI,a=>({...a,loadingRates:!0})),(0,s.on)(n.h_,(a,{rate:h})=>({...a,rate:h,loadingRates:!1})),(0,s.on)(n.$e,a=>({...a,loading:!0})),(0,s.on)(n.tc,a=>({...a,loading:!0})),(0,s.on)(n.ML,a=>({...a,loading:!1})));function P(a,h){return M(a,h)}var R=t(1440)}}]);